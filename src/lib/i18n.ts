import { browser } from '$app/environment';
import { derived, writable } from 'svelte/store';

export type Lang = 'de' | 'en';

const defaultLang: Lang = 'de';
const storedLang = browser ? (localStorage.getItem('lang') as Lang | null) : null;

export const lang = writable<Lang>(storedLang ?? defaultLang);

if (browser) {
	lang.subscribe((value) => {
		localStorage.setItem('lang', value);
		document.documentElement.lang = value;
	});
}

const translations: Record<Lang, Record<string, string>> = {
	de: {
		'nav.home': 'Home',
		'nav.roomsShort': 'Zimmer',
		'nav.about': 'Über uns',
		'nav.rooms': 'Unterkünfte & Preise',
		'nav.wellness': 'Wellness',
		'nav.experiences': 'Erlebnisse',
		'nav.booking': 'Jetzt buchen',
		'nav.contact': 'Kontakt',
		'hero.kicker': 'Alpine Ruhe · Kärnten',
		'hero.title': 'Ihr Wohlfühl-Urlaub in Kärnten',
		'hero.subtitle':
			'Erleben Sie alpine Gelassenheit und kärntner Gastfreundschaft in ihrer schönsten Form.',
		'hero.cta.primary': 'Zimmer entdecken',
		'hero.cta.secondary': 'Region erkunden',
		'booking.bar.checkin': 'Anreise',
		'booking.bar.checkout': 'Abreise',
		'booking.bar.guests': 'Gäste',
		'booking.bar.cta': 'Verfügbarkeit prüfen',
		'usp.title': 'Warum Gästehaus Rader',
		'usp.1.title': 'Drei individuelle Appartements',
		'usp.1.body': 'Viel Raum, alpine Materialien und moderne Ausstattung für 2-6 Personen.',
		'usp.2.title': 'Beste Lage im Gitschtal',
		'usp.2.body': 'Wandern, Skifahren und Seen in kurzer Distanz - perfekt für jede Jahreszeit.',
		'usp.3.title': 'Persönliche Gastgeber',
		'usp.3.body': 'Familiär geführt mit dem Blick fürs Detail und Insider-Tipps für Kärnten.',
		'usp.4.title': 'Ski-in/Ski-out',
		'usp.4.body': 'Direkt an der Piste gelegen - im Winter starten Sie an der Haustür.',
		'rooms.preview.title': 'Unterkünfte & Preise',
		'rooms.preview.subtitle': 'Vergleichen Sie unsere Appartements auf einen Blick.',
		'rooms.card.1.title': 'Appartement Panorama',
		'rooms.card.1.body': 'Großzügig, sonniger Balkon, ideal für Familien.',
		'rooms.card.1.price': '150',
		'rooms.card.2.title': 'Appartement Bergblick',
		'rooms.card.2.body': 'Ruhig gelegen, hochwertig ausgestattet, viel Privatsphäre.',
		'rooms.card.2.price': '120',
		'rooms.card.3.title': 'Appartement Talblick',
		'rooms.card.3.body': 'Gemütlich, perfekt für Paare oder kleine Familien.',
		'rooms.card.3.price': '110',
		'rooms.section.kicker': 'Exklusive Auswahl',
		'rooms.section.title': 'Unsere Unterkünfte',
		'rooms.section.cta': 'Alle Zimmer ansehen',
		'rooms.card.cta': 'Details ansehen',
		'rooms.page.title': 'Unsere Zimmer & Suiten',
		'rooms.page.subtitle':
			'Erleben Sie alpinen Luxus und modernen Komfort im Herzen der österreichischen Alpen.',
		'rooms.page.breadcrumb': 'Home / Zimmer & Suiten',
		'rooms.page.from': 'ab Preis',
		'rooms.page.cta': 'Buchen',
		'rooms.filter.title': 'Filter',
		'rooms.filter.subtitle': 'Verfeinern Sie Ihre Suche',
		'rooms.filter.category': 'Kategorie',
		'rooms.filter.all': 'Alle anzeigen',
		'rooms.filter.double': 'Doppelzimmer',
		'rooms.filter.suites': 'Suiten',
		'rooms.filter.apartments': 'Apartments',
		'rooms.filter.price': 'Preis pro Nacht (€)',
		'rooms.filter.amenities': 'Ausstattung',
		'rooms.page.card.1.title': 'Alpenrose Deluxe',
		'rooms.page.card.1.type': 'Doppelzimmer',
		'rooms.page.card.1.meta': '35 m² · 2 Personen',
		'rooms.page.card.1.body':
			'Genießen Sie den Duft von Zirbenholz und den Panoramablick auf die Gipfel.',
		'rooms.page.card.1.price': '145',
		'rooms.page.card.2.title': 'Panorama-Suite "Gletscherblick"',
		'rooms.page.card.2.type': 'Suite',
		'rooms.page.card.2.meta': '65 m² · 2-4 Personen',
		'rooms.page.card.2.body':
			'Großzügige Suite mit offenem Kamin und privater Sauna für entspannte Abende.',
		'rooms.page.card.2.price': '280',
		'rooms.page.card.3.title': 'Familien-Apartment',
		'rooms.page.card.3.type': 'Apartment',
		'rooms.page.card.3.meta': '58 m² · 2-5 Personen',
		'rooms.page.card.3.body':
			'Helles Apartment mit viel Platz, Wohnküche und ruhigem Ausblick ins Tal.',
		'rooms.page.card.3.price': '210',
		'amenity.wifi': 'WLAN',
		'amenity.balcony': 'Balkon',
		'amenity.mountain': 'Bergblick',
		'amenity.coffee': 'Nespresso',
		'amenity.sauna': 'Private Sauna',
		'amenity.fireplace': 'Offener Kamin',
		'amenity.shower': 'Regendusche',
		'amenity.bath': 'Badewanne',
		'amenity.kitchen': 'Küche',
		'badge.popular': 'Beliebt',
		'badge.exclusive': 'Exklusiv',
		'experiences.title': 'Erlebnisse rund um das Gästehaus',
		'experiences.body':
			'Vom Skitag auf der Nassfeld-Region bis zur Sommerfrische am Weißensee - hier beginnt der Urlaub vor der Haustür.',
		'cta.title': 'Bereit für Ihre Auszeit?',
		'cta.body': 'Prüfen Sie Verfügbarkeit und sichern Sie sich Ihr Wunsch-Appartement.',
		'price.from': 'ab €',
		'price.night': 'Nacht',
		'experiences.card.1.title': 'Weißensee',
		'experiences.card.1.body': 'Schwimmen, SUP, Spaziergänge am Wasser.',
		'experiences.card.2.title': 'Nassfeld',
		'experiences.card.2.body': 'Skifahren und Winterwanderwege.',
		'experiences.card.3.title': 'Gitschtal',
		'experiences.card.3.body': 'Almwiesen, Panoramawege, Ruhe pur.',
		'experiences.card.4.title': 'Familienzeit',
		'experiences.card.4.body': 'Naturspielplätze und regionale Kulinarik.',
		'seasons.title': 'Jahreszeiten entdecken',
		'seasons.subtitle':
			'Sommerfrische am See oder Wintertage im Schnee - hier findet jede Jahreszeit ihren Moment.',
		'seasons.summer.title': 'Sommer im Gitschtal',
		'seasons.summer.body': 'Wandern, Seen, Radwege und lange Abende in der Natur.',
		'seasons.summer.cta': 'Sommer erleben',
		'seasons.winter.title': 'Winterzeit in Kärnten',
		'seasons.winter.body': 'Skifahren, Langlaufen und ruhige Wintertage.',
		'seasons.winter.cta': 'Winter entdecken',
		'footer.tagline': 'Ihr Rückzugsort in den Kärntner Alpen. Tradition trifft auf modernen Komfort.',
		'footer.quicklinks': 'Schnellzugriff',
		'footer.winter': 'Winterurlaub',
		'footer.contact': 'Kontakt',
		'footer.addressLine1': 'Weißbriach, Gitschtal',
		'footer.addressLine2': 'Kärnten, Österreich',
		'footer.rights': 'Alle Rechte vorbehalten.',
		'footer.links': 'Schnellzugriff',
		'footer.legal': 'Rechtliches',
		'footer.imprint': 'Impressum',
		'footer.privacy': 'Datenschutz',
		'footer.terms': 'AGB',
		'about.title': 'Über Gästehaus Rader',
		'about.body':
			'Hier erzählen wir die Geschichte Ihres Hauses, Ihre Werte und was den Aufenthalt besonders macht.',
		'about.card.1.title': 'Gastgeber mit Herz',
		'about.card.1.body':
			'Wir setzen auf persönliche Betreuung, regionale Empfehlungen und flexible Lösungen.',
		'about.card.2.title': 'Qualität & Details',
		'about.card.2.body':
			'Hochwertige Materialien, ruhige Farben und eine Atmosphäre zum Abschalten.',
		'about.card.3.title': 'Ganzjährig attraktiv',
		'about.card.3.body':
			'Schneereiche Winter, klare Seen im Sommer und Naturerlebnisse im Herbst.',
		'rooms.title': 'Unterkünfte & Preise',
		'rooms.body':
			'Eine klare Übersicht über Ausstattung, Größe und saisonale Preise der Appartements.',
		'booking.title': 'Verfügbarkeit & Buchung',
		'booking.body':
			'Derzeit führt die Buchung zum externen Partner. Später kann hier ein eigenes System integriert werden.',
		'contact.title': 'Kontakt',
		'contact.body':
			'Kontaktformular, Lageplan, Anreiseinfos und direkte Kontaktmöglichkeiten.',
		'booking.form.checkin': 'Anreise',
		'booking.form.checkout': 'Abreise',
		'booking.form.guests': 'Gäste',
		'booking.form.cta': 'Jetzt prüfen',
		'booking.form.note': 'Sie werden zum Buchungspartner weitergeleitet.',
		'booking.direct.title': 'Direktkontakt',
		'booking.direct.body': 'Fragen? Schreiben oder rufen Sie uns gerne an.',
		'contact.form.name': 'Name',
		'contact.form.email': 'Email',
		'contact.form.message': 'Nachricht',
		'contact.form.cta': 'Nachricht senden',
		'contact.arrival.title': 'Anreise',
		'contact.arrival.body': 'Details zu Anfahrt und Check-in folgen.'
	},
	en: {
		'nav.home': 'Home',
		'nav.roomsShort': 'Rooms',
		'nav.about': 'About',
		'nav.rooms': 'Rooms & Prices',
		'nav.wellness': 'Wellness',
		'nav.experiences': 'Experiences',
		'nav.booking': 'Book now',
		'nav.contact': 'Contact',
		'hero.kicker': 'Alpine calm · Carinthia',
		'hero.title': 'Your cozy getaway in Carinthia',
		'hero.subtitle':
			'Experience alpine serenity and Carinthian hospitality at its finest.',
		'hero.cta.primary': 'Discover rooms',
		'hero.cta.secondary': 'Explore the region',
		'booking.bar.checkin': 'Check-in',
		'booking.bar.checkout': 'Check-out',
		'booking.bar.guests': 'Guests',
		'booking.bar.cta': 'Check availability',
		'usp.title': 'Why Gästehaus Rader',
		'usp.1.title': 'Three distinctive apartments',
		'usp.1.body': 'Spacious layouts, alpine materials, and modern comforts for 2-6 guests.',
		'usp.2.title': 'Prime Gitschtal location',
		'usp.2.body': 'Hiking, skiing, and lakes nearby - perfect for every season.',
		'usp.3.title': 'Personal hosts',
		'usp.3.body': 'Family-run with a sense for detail and insider tips for Carinthia.',
		'usp.4.title': 'Ski-in/Ski-out',
		'usp.4.body': 'Steps from the slopes so winter days start at your door.',
		'rooms.preview.title': 'Rooms & Prices',
		'rooms.preview.subtitle': 'Compare our apartments at a glance.',
		'rooms.card.1.title': 'Panorama Apartment',
		'rooms.card.1.body': 'Spacious, sunny balcony, ideal for families.',
		'rooms.card.1.price': '150',
		'rooms.card.2.title': 'Mountain View Apartment',
		'rooms.card.2.body': 'Quiet setting, premium finishes, lots of privacy.',
		'rooms.card.2.price': '120',
		'rooms.card.3.title': 'Valley View Apartment',
		'rooms.card.3.body': 'Cozy, perfect for couples or small families.',
		'rooms.card.3.price': '110',
		'rooms.section.kicker': 'Curated selection',
		'rooms.section.title': 'Our accommodations',
		'rooms.section.cta': 'View all rooms',
		'rooms.card.cta': 'View details',
		'rooms.page.title': 'Our rooms & suites',
		'rooms.page.subtitle':
			'Experience alpine comfort and modern design in the heart of the Austrian Alps.',
		'rooms.page.breadcrumb': 'Home / Rooms & Suites',
		'rooms.page.from': 'from price',
		'rooms.page.cta': 'Book',
		'rooms.filter.title': 'Filter',
		'rooms.filter.subtitle': 'Refine your search',
		'rooms.filter.category': 'Category',
		'rooms.filter.all': 'Show all',
		'rooms.filter.double': 'Double rooms',
		'rooms.filter.suites': 'Suites',
		'rooms.filter.apartments': 'Apartments',
		'rooms.filter.price': 'Price per night (€)',
		'rooms.filter.amenities': 'Amenities',
		'rooms.page.card.1.title': 'Alpenrose Deluxe',
		'rooms.page.card.1.type': 'Double room',
		'rooms.page.card.1.meta': '35 m² · 2 guests',
		'rooms.page.card.1.body':
			'Enjoy the scent of pine wood and panoramic views of the peaks.',
		'rooms.page.card.1.price': '145',
		'rooms.page.card.2.title': 'Panorama Suite "Glacier View"',
		'rooms.page.card.2.type': 'Suite',
		'rooms.page.card.2.meta': '65 m² · 2-4 guests',
		'rooms.page.card.2.body':
			'Spacious suite with open fireplace and private sauna for relaxed evenings.',
		'rooms.page.card.2.price': '280',
		'rooms.page.card.3.title': 'Family Apartment',
		'rooms.page.card.3.type': 'Apartment',
		'rooms.page.card.3.meta': '58 m² · 2-5 guests',
		'rooms.page.card.3.body':
			'Bright apartment with plenty of space, kitchen, and a calm valley view.',
		'rooms.page.card.3.price': '210',
		'amenity.wifi': 'Free Wi-Fi',
		'amenity.balcony': 'Balcony',
		'amenity.mountain': 'Mountain view',
		'amenity.coffee': 'Nespresso',
		'amenity.sauna': 'Private sauna',
		'amenity.fireplace': 'Open fireplace',
		'amenity.shower': 'Rain shower',
		'amenity.bath': 'Bathtub',
		'amenity.kitchen': 'Kitchen',
		'badge.popular': 'Popular',
		'badge.exclusive': 'Exclusive',
		'experiences.title': 'Experiences nearby',
		'experiences.body':
			'From ski days in Nassfeld to summer escapes at Weißensee - your holiday starts right outside.',
		'cta.title': 'Ready for your getaway?',
		'cta.body': 'Check availability and secure your preferred apartment.',
		'price.from': 'from €',
		'price.night': 'night',
		'experiences.card.1.title': 'Weißensee',
		'experiences.card.1.body': 'Swimming, SUP, lakeside walks.',
		'experiences.card.2.title': 'Nassfeld',
		'experiences.card.2.body': 'Skiing and winter hiking trails.',
		'experiences.card.3.title': 'Gitschtal',
		'experiences.card.3.body': 'Alpine meadows, panoramic paths, pure calm.',
		'experiences.card.4.title': 'Family time',
		'experiences.card.4.body': 'Nature playgrounds and local cuisine.',
		'seasons.title': 'Explore the seasons',
		'seasons.subtitle':
			'Lake summers and snowy winters - every season has its own magic here.',
		'seasons.summer.title': 'Summer in the valley',
		'seasons.summer.body': 'Hikes, lakes, cycling routes, and long evenings outdoors.',
		'seasons.summer.cta': 'Explore summer',
		'seasons.winter.title': 'Winter in Carinthia',
		'seasons.winter.body': 'Skiing, cross-country trails, and quiet snowy days.',
		'seasons.winter.cta': 'Discover winter',
		'footer.tagline': 'Alpine guesthouse in the Gitschtal with warm apartments and personal service.',
		'footer.quicklinks': 'Quick links',
		'footer.winter': 'Winter getaway',
		'footer.contact': 'Contact',
		'footer.addressLine1': 'Weissbriach, Gitschtal',
		'footer.addressLine2': 'Carinthia, Austria',
		'footer.rights': 'All rights reserved.',
		'footer.links': 'Quick links',
		'footer.legal': 'Legal',
		'footer.imprint': 'Imprint',
		'footer.privacy': 'Privacy',
		'footer.terms': 'Terms',
		'about.title': 'About Gästehaus Rader',
		'about.body':
			'Here we share the story of your home, your values, and what makes each stay special.',
		'about.card.1.title': 'Hosts with heart',
		'about.card.1.body':
			'Personal care, local recommendations, and flexible solutions tailored to you.',
		'about.card.2.title': 'Quality & details',
		'about.card.2.body':
			'Premium materials, calm tones, and an atmosphere made for unwinding.',
		'about.card.3.title': 'Great all year',
		'about.card.3.body':
			'Snowy winters, clear summer lakes, and nature escapes every season.',
		'rooms.title': 'Rooms & Prices',
		'rooms.body':
			'A clear overview of amenities, size, and seasonal pricing for each apartment.',
		'booking.title': 'Availability & Booking',
		'booking.body':
			'Booking currently redirects to our external partner. Later, this can be upgraded to a full in-house system.',
		'contact.title': 'Contact',
		'contact.body':
			'Contact form, map, travel information, and direct ways to reach us.',
		'booking.form.checkin': 'Check-in',
		'booking.form.checkout': 'Check-out',
		'booking.form.guests': 'Guests',
		'booking.form.cta': 'Check now',
		'booking.form.note': 'You will be redirected to our booking partner.',
		'booking.direct.title': 'Direct contact',
		'booking.direct.body': 'Questions? Send us a message or give us a call.',
		'contact.form.name': 'Name',
		'contact.form.email': 'Email',
		'contact.form.message': 'Message',
		'contact.form.cta': 'Send message',
		'contact.arrival.title': 'Arrival',
		'contact.arrival.body': 'Directions and check-in details will follow.'
	}
};

export const t = derived(lang, ($lang) => {
	return (key: string) => translations[$lang][key] ?? translations[defaultLang][key] ?? key;
});

export const setLang = (value: Lang) => lang.set(value);
